---
alwaysApply: true
---

# ETF 계산기 · 다국어 · 웹 프로젝트

이 프로젝트는 **ETF 계산기**를 **다국어**로 제공하는 **웹 애플리케이션**이다.

## 1. ETF 계산기

- **용어 통일**: NAV, 추적오차, 수익률, 배당률, 펀드플로우 등 도메인 용어는 코드·UI·번역 키에서 동일한 명칭을 사용한다.
- **계산 로직**: 수식·단위(%, 원, bp 등)는 `lib/` 또는 전용 모듈에 두고, 컴포넌트에서는 호출만 하도록 분리한다.
- **숫자 표기**: 금액·비율은 로케일에 맞춰 소수점·천단위 구분을 적용한다 (다국어 규칙과 연동).

```typescript
// ✅ 계산 로직은 lib 등에서
export function calculateTrackingError(returns: number[], benchmarkReturns: number[]): number { ... }

// ❌ 컴포넌트 안에 수식 하드코딩 지양
const error = returns.reduce(...)
```

## 2. 다국어 (i18n)

- **번역 키**: 네임스페이스 형태로 구성 (예: `calculator.result`, `common.save`)하고, 키 이름만으로 의미가 드러나도록 작성한다.
- **문자열 직접 사용 금지**: UI에 노출되는 문구는 반드시 번역 함수/키를 통해 출력한다.
- **기본 언어**: 한글(ko) 또는 프로젝트에서 정한 기본 로케일을 명시하고, 누락된 키는 기본 언어로 폴백한다.
- **숫자·날짜·통화**: `Intl.NumberFormat`, `Intl.DateTimeFormat` 등으로 로케일별 포맷을 적용한다.

```typescript
// ✅ 번역 키 사용
t('calculator.trackingError')
formatNumber(value, locale)

// ❌ UI에 문자열 직접
<div>추적오차</div>
```

## 3. 웹 프로젝트

- **스택**: Next.js(App Router), React, TypeScript를 사용한다.
- **구조**: 페이지/라우트는 `app/`, 재사용 컴포넌트는 `components/`, 비즈니스·계산 로직은 `lib/`에 둔다.
- **접근성**: 입력·결과 영역에 적절한 라벨·`aria-*`를 사용하고, 키보드/스크린리더 사용을 고려한다.
- **반응형**: 모바일·데스크톱에서 계산기 UI가 읽기 쉽고 조작 가능하도록 구성한다.

---

- 새 화면/기능 추가 시 위 세 가지(ETF 도메인, 다국어, 웹 구조)를 모두 반영한다.
- ETF 관련 수식·정의가 바뀌면 `lib/` 및 번역 키를 함께 점검한다.
